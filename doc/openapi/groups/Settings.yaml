# Auto-generated doc: DO NOT EDIT
openapi: 3.0.3
info:
  description: Master Controller APIs for Settingss
  license:
    name: Apache 2.0
    url: https://www.apache.org/licenses/LICENSE-2.0.html
  title: Settings APIs
  version: "2.0"
servers:
- description: localhost server
  url: http://localhost:9900
paths:
  /api/v1/auth/ctrl/ResetSettings:
    post:
      description: Reset all settings to their defaults
      operationId: ResetSettings
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrmapiRegionSettings'
            x-required-fields:
            - region
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EdgeprotoResult'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrmapiResult'
          description: Bad Request
        "403":
          description: Forbidden
      security:
      - bearerAuth: []
      summary: ResetSettings
      tags:
      - Settings
  /api/v1/auth/ctrl/ShowSettings:
    post:
      description: Show settings
      operationId: ShowSettings
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrmapiRegionSettings'
            x-required-fields:
            - region
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EdgeprotoSettings'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrmapiResult'
          description: Bad Request
        "403":
          description: Forbidden
      security:
      - bearerAuth: []
      summary: ShowSettings
      tags:
      - Settings
  /api/v1/auth/ctrl/UpdateSettings:
    post:
      description: Update settings
      operationId: UpdateSettings
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrmapiRegionSettings'
            x-required-fields:
            - region
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/EdgeprotoResult'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrmapiResult'
          description: Bad Request
        "403":
          description: Forbidden
      security:
      - bearerAuth: []
      summary: UpdateSettings
      tags:
      - Settings
components:
  schemas:
    EdgeprotoCollectionInterval:
      properties:
        interval:
          description: Collection interval for Influxdb (Specifically used for continuous
            query intervals) (Data from old continuous queries will be inaccessible
            if intervals are updated)
          type: string
        retention:
          description: Retention duration for Influxdb interval (0 uses default retention
            policy)
          type: string
      type: object
    EdgeprotoResult:
      properties:
        code:
          description: Error code, 0 indicates success, non-zero indicates failure
            (not implemented)
          type: integer
        message:
          description: Message, may be success or failure message
          type: string
      type: object
    EdgeprotoSettings:
      properties:
        alert_policy_min_trigger_time:
          description: Minimmum trigger time for alert policies
          type: string
        appinst_client_cleanup_interval:
          description: AppInstClient cleanup thread run interval
          type: string
        auto_deploy_interval_sec:
          description: Auto Provisioning Stats push and analysis interval (seconds)
          type: number
        auto_deploy_max_intervals:
          description: Auto Provisioning Policy max allowed intervals
          minimum: 0
          type: integer
        auto_deploy_offset_sec:
          description: Auto Provisioning analysis offset from interval (seconds)
          type: number
        chef_client_interval:
          description: Default chef client interval (duration)
          type: string
        cleanup_reservable_auto_cluster_idletime:
          description: Idle reservable ClusterInst clean up time
          type: string
        cloudlet_maintenance_timeout:
          description: Default Cloudlet Maintenance timeout (used twice for AutoProv
            and Cloudlet)
          type: string
        cluster_auto_scale_averaging_duration_sec:
          description: Cluster auto scale averaging duration for stats to avoid spikes
            (seconds), avoid setting below 30s or it will not capture any measurements
            to average
          type: integer
        cluster_auto_scale_retry_delay:
          description: Cluster auto scale retry delay if scaling failed
          type: string
        create_app_inst_timeout:
          description: Create AppInst timeout (duration)
          type: string
        create_cloudlet_timeout:
          description: Create Cloudlet timeout (duration)
          type: string
        create_cluster_inst_timeout:
          description: Create ClusterInst timeout (duration)
          type: string
        delete_app_inst_timeout:
          description: Delete AppInst timeout (duration)
          type: string
        delete_cluster_inst_timeout:
          description: Delete ClusterInst timeout (duration)
          type: string
        disable_rate_limit:
          description: Disable rate limiting for APIs (default is false)
          type: boolean
        dme_api_metrics_collection_interval:
          description: Metrics collection interval for DME API counts (duration)
          type: string
        edge_events_metrics_collection_interval:
          description: Collection interval for edgeevents metrics (latency, device,
            and custom)
          type: string
        edge_events_metrics_continuous_queries_collection_intervals:
          description: List of collection intervals for Continuous Queries for EdgeEvents
            metrics
          items:
            $ref: '#/components/schemas/EdgeprotoCollectionInterval'
          type: array
        influx_db_cloudlet_usage_metrics_retention:
          description: Default influxDB cloudlet usage metrics retention policy (duration)
          type: string
        influx_db_downsampled_metrics_retention:
          description: Default retention policy for downsampled influx db (duration)
          type: string
        influx_db_edge_events_metrics_retention:
          description: Default retention policy for edgeevents metrics influx db (duration)
          type: string
        influx_db_metrics_retention:
          description: Default influxDB metrics retention policy (duration)
          type: string
        location_tile_side_length_km:
          description: Length of location tiles side for latency metrics (km)
          type: integer
        master_node_flavor:
          description: Default flavor for k8s master VM and > 0  workers
          type: string
        max_tracked_dme_clients:
          description: Max DME clients to be tracked at the same time.
          type: integer
        platform_ha_instance_active_expire_time:
          description: Platform HA instance active time
          type: string
        platform_ha_instance_poll_interval:
          description: Platform HA instance poll interval
          type: string
        rate_limit_max_tracked_ips:
          description: Maximum number of IPs to track for rate limiting
          type: integer
        resource_snapshot_thread_interval:
          description: ResourceSnapshot Refresh thread run interval
          type: string
        shepherd_alert_evaluation_interval:
          description: Shepherd alert evaluation interval for k8s and docker appInstances
            (duration)
          type: string
        shepherd_health_check_interval:
          description: Health Checking probing frequency (duration)
          type: string
        shepherd_health_check_retries:
          description: Number of times Shepherd Health Check fails before we mark
            appInst down
          type: integer
        shepherd_metrics_collection_interval:
          description: Shepherd metrics collection interval for k8s and docker appInstances
            (duration)
          type: string
        shepherd_metrics_scrape_interval:
          description: Shepherd metrics scraping interval (how often metrics are pulled
            by prometheus, vs pushed to Controller by Shepherd collection)
          type: string
        update_app_inst_timeout:
          description: Update AppInst timeout (duration)
          type: string
        update_cloudlet_timeout:
          description: Update Cloudlet timeout (duration)
          type: string
        update_cluster_inst_timeout:
          description: Update ClusterInst timeout (duration)
          type: string
        update_trust_policy_timeout:
          description: Update Trust Policy timeout (duration)
          type: string
        update_vm_pool_timeout:
          description: Update VM pool timeout (duration)
          type: string
      type: object
    OrmapiRegionSettings:
      properties:
        Region:
          description: Region name
          type: string
        Settings:
          $ref: '#/components/schemas/EdgeprotoSettings'
      type: object
    OrmapiResult:
      properties:
        code:
          description: Error code
          type: integer
        message:
          description: Informational message
          type: string
      type: object
  securitySchemes:
    bearerAuth:
      bearerFormat: JWT
      description: JWT token generated by the login API to be included in the http
        header
      scheme: bearer
      type: http
