# Copyright 2022 MobiledgeX, Inc
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

orgs:
- name: qos-prio-dev
  type: developer
  address: asdf
  phone: 123-123-1234
- name: qos-prio-oper
  type: operator
  address: asdf
  phone: 123-123-1234
cloudletpoolaccessinvitations:
- org: qos-prio-dev
  region: local
  cloudletpool: qos-prio-pool
  cloudletpoolorg: qos-prio-oper
cloudletpoolaccessresponses:
- org: qos-prio-dev
  region: local
  cloudletpool: qos-prio-pool
  cloudletpoolorg: qos-prio-oper
  decision: accept
regiondata:
- region: local
  appdata:
    operatorcodes:
    - code: "31026"
      organization: qos-prio-oper
    cloudletpools:
    - key:
        organization: qos-prio-oper
        name: qos-prio-pool
      cloudlets:
      - organization: qos-prio-oper
        name: qos-prio-oper-cloud-2
    networks:
    - key:
        cloudletkey:
          organization: qos-prio-oper
          name: qos-prio-oper-cloud-2
        name: net2
      routes:
      - destinationcidr: 10.55.0.0/16
        nexthopip: 10.55.0.1
      connectiontype: ConnectToLoadBalancer
    clusterinsts:
    - key:
        clusterkey:
          name: SmallCluster
        cloudletkey:
          organization: qos-prio-oper
          name: qos-prio-oper-cloud-2
        organization: qos-prio-dev
      flavor:
        name: x1.small
      liveness: Static
      state: Ready
      ipaccess: Dedicated
      nodeflavor: x1.small
      deployment: kubernetes
      nummasters: 1
      numnodes: 2
      masternodeflavor: x1.small
      resources:
        vms:
        - name: fake-master-1-qos-prio-oper-cloud-2-smallcluster-qos-prio-dev
          type: k8s-cluster-master
          status: ACTIVE
          infraflavor: x1.small
        - name: fake-node-1-qos-prio-oper-cloud-2-smallcluster-qos-prio-dev
          type: k8s-cluster-node
          status: ACTIVE
          infraflavor: x1.small
        - name: fake-node-2-qos-prio-oper-cloud-2-smallcluster-qos-prio-dev
          type: k8s-cluster-node
          status: ACTIVE
          infraflavor: x1.small
        - name: smallcluster-qos-prio-dev.qos-prio-oper-cloud-2-qos-prio-oper.local.mobiledgex.net
          type: dedicatedrootlb
          status: ACTIVE
          infraflavor: x1.small
      networks:
      - net2
      dnslabel: smallcluster-qos-prio-dev
      fqdn: smallcluster-qos-prio-dev.qos-prio-oper-cloud-2-qos-prio-oper.local.mobiledgex.net
    apps:
    - key:
        organization: qos-prio-dev
        name: qosapplication
        version: "1.0"
      imagepath: registry.mobiledgex.net/qos-prio-dev/qosapplication:1.0
      imagetype: Docker
      accessports: tcp:80,tcp:443,udp:10002,tcp:81:tls,tcp:444:tls
      defaultflavor:
        name: x1.small
      authpublickey: |
        -----BEGIN PUBLIC KEY-----
        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0Spdynjh+MPcziCH2Gij
        TkK9fspTH4onMtPTgxo+MQC+OZTwetvYFJjGV8jnYebtuvWWUCctYmt0SIPmA0F0
        VU6qzSlrBOKZ9yA7Rj3jSQtNrI5vfBIzK1wPDm7zuy5hytzauFupyfboXf4qS4uC
        GJCm9EOzUSCLRryyh7kTxa4cYHhhTTKNTTy06lc7YyxBsRsN/4jgxjjkxe3J0SfS
        z3eaHmfFn/GNwIAqy1dddTJSPugRkK7ZjFR+9+sscY9u1+F5QPwxa8vTB0U6hh1m
        QnhVd1d9osRwbyALfBY8R+gMgGgEBCPYpL3u5iSjgD6+n4d9RQS5zYRpeMJ1fX0C
        /QIDAQAB
        -----END PUBLIC KEY-----
      deployment: kubernetes
      deploymentmanifest: |
        apiVersion: v1
        kind: Service
        metadata:
          name: qosapplication10-tcp
          labels:
            run: qosapplication1.0
        spec:
          type: LoadBalancer
          ports:
          - name: tcp80
            protocol: TCP
            port: 80
            targetPort: 80
          - name: tcp443
            protocol: TCP
            port: 443
            targetPort: 443
          - name: tcp81tls
            protocol: TCP
            port: 81
            targetPort: 81
          - name: tcp444tls
            protocol: TCP
            port: 444
            targetPort: 444
          selector:
            run: qosapplication1.0
        ---
        apiVersion: v1
        kind: Service
        metadata:
          name: qosapplication10-udp
          labels:
            run: qosapplication1.0
        spec:
          type: LoadBalancer
          ports:
          - name: udp10002
            protocol: UDP
            port: 10002
            targetPort: 10002
          selector:
            run: qosapplication1.0
        ---
        apiVersion: apps/v1
        kind: Deployment
        metadata:
          name: qosapplication10-deployment
        spec:
          replicas: 1
          selector:
            matchLabels:
              run: qosapplication1.0
          template:
            metadata:
              labels:
                run: qosapplication1.0
                mexDeployGen: kubernetes-basic
            spec:
              volumes:
              imagePullSecrets:
              - name: registry.mobiledgex.net
              containers:
              - name: qosapplication10
                image: registry.mobiledgex.net/qos-prio-dev/qosapplication:1.0
                imagePullPolicy: Always
                ports:
                - containerPort: 80
                  protocol: TCP
                - containerPort: 443
                  protocol: TCP
                - containerPort: 10002
                  protocol: UDP
                - containerPort: 81
                  protocol: TCP
                - containerPort: 444
                  protocol: TCP
      deploymentgenerator: kubernetes-basic
      androidpackagename: com.acme.qosapplication
      officialfqdn: qosapplication.acmeappco.com
      accesstype: LoadBalancer
      qossessionprofile: ThroughputDownM
      qossessionduration: 5m0s
    appinstances:
    - key:
        appkey:
          organization: edgecloudorg
          name: MEXPrometheusAppName
          version: "1.0"
        clusterinstkey:
          clusterkey:
            name: SmallCluster
          cloudletkey:
            organization: qos-prio-oper
            name: qos-prio-oper-cloud-2
          organization: qos-prio-dev
      cloudletloc:
        latitude: 35
        longitude: -95
      liveness: Dynamic
      mappedports:
      - proto: Tcp
        internalport: 9090
        publicport: 9090
      flavor:
        name: x1.small
      state: Ready
      healthcheck: Ok
      powerstate: PowerOn
      vmflavor: x1.small
      uniqueid: edgecloudorgmexprometheusappname10-smallcluster-qos-prio-oper-cloud-2-qos-prio-oper
      dnslabel: mexprometheusappname10-edgecloudorg
    - key:
        appkey:
          organization: qos-prio-dev
          name: qosapplication
          version: "1.0"
        clusterinstkey:
          clusterkey:
            name: SmallCluster
          cloudletkey:
            organization: qos-prio-oper
            name: qos-prio-oper-cloud-2
          organization: qos-prio-dev
      cloudletloc:
        latitude: 35
        longitude: -95
      uri: smallcluster-qos-prio-dev.qos-prio-oper-cloud-2-qos-prio-oper.local.mobiledgex.net
      liveness: Static
      mappedports:
      - proto: Tcp
        internalport: 80
        publicport: 80
      - proto: Tcp
        internalport: 443
        publicport: 443
      - proto: Udp
        internalport: 10002
        publicport: 10002
      - proto: Tcp
        internalport: 81
        publicport: 81
        tls: true
      - proto: Tcp
        internalport: 444
        publicport: 444
        tls: true
      flavor:
        name: x1.small
      state: Ready
      runtimeinfo:
        containerids:
        - appOnClusterNode0
        - appOnClusterNode1
      healthcheck: Ok
      powerstate: PowerOn
      vmflavor: x1.small
      uniqueid: qos-prio-devqosapplication10-smallcluster-qos-prio-oper-cloud-2-qos-prio-oper
      dnslabel: qosapplication10-qos-prio-dev
    appinstrefs:
    - key:
        organization: qos-prio-dev
        name: qosapplication
        version: "1.0"
      insts:
        ? '{"app_key":{"organization":"qos-prio-dev","name":"qosapplication","version":"1.0"},"cluster_inst_key":{"cluster_key":{"name":"SmallCluster"},"cloudlet_key":{"organization":"qos-prio-oper","name":"qos-prio-oper-cloud-2"},"organization":"qos-prio-dev"}}'
        : 1
    clusterrefs:
    - key:
        clusterkey:
          name: SmallCluster
        cloudletkey:
          organization: qos-prio-oper
          name: qos-prio-oper-cloud-2
        organization: qos-prio-dev
      apps:
      - appkey:
          organization: edgecloudorg
          name: MEXPrometheusAppName
          version: "1.0"
        vclustername: SmallCluster
      - appkey:
          organization: qos-prio-dev
          name: qosapplication
          version: "1.0"
        vclustername: SmallCluster
